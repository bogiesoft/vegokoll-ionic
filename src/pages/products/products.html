<ion-header>
	<ion-navbar color="primary" border-bottom-no>
		<ion-title>Sök bland produkter</ion-title>
		<ion-buttons end>
	      	<button ion-button (click)="showCheckbox()">
	        	<ion-icon name="options"></ion-icon>
	      	</button>
	    </ion-buttons>
	</ion-navbar>

	<ion-toolbar color="primary" border-top-no border-bottom-no>
		<form>
			<ion-searchbar type="search" placeholder="Sök efter en produkt" (search)="searchProducts($event)" (ionClear)="searchProducts($event)"></ion-searchbar>
		</form>
	</ion-toolbar>
</ion-header>

<ion-content id="products-content" (ionScroll)="hideKeyboard()">
	<ion-grid id="intro">
		<ion-row>
			<ion-col width-100>
				<h2>{{productcount.count}}</h2>
				<span>veganska produkter</span>
			</ion-col>
		</ion-row>
	</ion-grid>
  
	<ion-list *ngIf="categories && categories.length > 0">

		<ion-item *ngFor="let product of products" padding>
			<h2>{{product.title}} <small>{{product.subtitle}}</small></h2>
			<p class="brand">{{product.brand}}</p>
			<ion-badge class="category" *ngIf="product.category">{{categoryNameByCode(product.category).name}}</ion-badge>
			<ion-badge *ngIf="product.other.organic">Ekologisk</ion-badge>
			<ion-badge *ngIf="product.ingredients.gluten_free">Glutenfritt</ion-badge>
    		<button ion-button clear item-right (click)="showProduct(product.gtin)"><ion-icon name="ios-arrow-forward"></ion-icon></button>
		</ion-item>

	</ion-list>
	<ion-infinite-scroll (ionInfinite)="showMore($event)" *ngIf="products.length<count.count">
  		<ion-infinite-scroll-content></ion-infinite-scroll-content>
 	</ion-infinite-scroll>
</ion-content>
